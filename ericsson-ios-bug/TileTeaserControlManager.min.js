define(["require","exports"],function(a,b){"use strict";var c=function(){function a(a,b,c){this.titleTeaserList=null,this.dummyPicture="<picture class='tileteaser-item-image image-wide-50 ratio3-2'><img style='height:234px; width:100%;' src='/ui/images/blank.png'/></picture>",this.fixHTMLContent="<div data-insert='COUNT' class='is-initiated cleardiv'></div>",this.mediaQueryString="(min-width: 767px)",this.introBlock=null,this.teaserItemFirst=null,this.pictureFirst=null,this.fixWrap=null,this.rsDelay=1e3,this.rsTimeStamp=0,this.swrem={},this.titleTeaserList=a,this.arrangeTitles(),this.swrem=c,b&&this.overFlowTextManage()}return a.prototype.getContainerAreaType=function(){var a,b,c=this,d="";return b=c.titleTeaserList.height()/c.titleTeaserList.width(),a=c.pictureFirst.data("natural-ratio"),c.titleTeaserList.height()>c.titleTeaserList.width()?(d="potrait-bg",b>a&&(d="landscape-bg")):(d="landscape-bg",b<a&&(d="potrait-bg")),d},a.prototype.heightEq=function(){var a=this;a.fixWrap.addClass(a.getContainerAreaType()),window.matchMedia(this.mediaQueryString).matches&&a.introBlock.height()>a.pictureFirst.height()?(a.fixWrap.css("height",a.introBlock.height()+"px"),a.fixWrap.addClass("added-height")):a.fixWrap&&(a.fixWrap.removeAttr("style"),a.fixWrap.removeClass("added-height"))},a.prototype.overFlowTextManage=function(){var a,b,c=this;c.introBlock=this.titleTeaserList.find(".tileteaser-intro").eq(0),c.teaserItemFirst=this.titleTeaserList.find(".tileteaser-item").eq(0),b=$("").add(c.introBlock).add(c.teaserItemFirst),a=this.fixHTMLContent.replace("COUNT","fix"),b.wrapAll('<div class="tileteaser-fix-wrap"></div>'),c.fixWrap=c.titleTeaserList.find(".tileteaser-fix-wrap"),c.fixWrap.append(a);var d=c.teaserItemFirst.find("picture img").eq(0).prop("src");c.teaserItemFirst.css("background-image","url("+d+")"),c.pictureFirst=c.teaserItemFirst.find("picture").eq(0),c.pictureFirst.find("img").eq(0).on("load",function(a){var b=a.currentTarget;c.pictureFirst.data("natural-ratio",b.naturalWidth/b.naturalHeight),c.pictureFirst.hasClass("picloaded")||(c.swrem.appendToHandlerMethod(function(){c.heightEq()}),c.heightEq(),c.pictureFirst.addClass("picloaded"))})},a.prototype.handleBlankBox=function(a){var b=this;a.hasClass("tileteaser-intro")||0===a.find("picture img").length&&(a.children("div").eq(0).append(b.dummyPicture),a.children("div").eq(0).css("min-height","234px"))},a.prototype.arrangeTitles=function(){var a=this,b=0,c="";a.titleTeaserList.children().each(function(d,e){a.handleBlankBox($(e)),(d+1)%2===0&&(c=a.fixHTMLContent,c=c.replace("COUNT","ttesear"+b),$(e).after(c),b++)})},a}(),d=function(){function b(){this.swrem={},this.titleteaserSelectionString="div.tileteaser-list";var b=this;a(["managers/SmartWindowResizeEnentManager"],function(a){b.swrem=new a,$(b.titleteaserSelectionString).each(function(a,d){new c($(d),$(d).find(".tileteaser-intro").length>0,b.swrem)})})}return b}();return new d});