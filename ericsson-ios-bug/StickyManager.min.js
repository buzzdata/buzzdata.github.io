define(["require","exports"],function(a,b){"use strict";var c=function(){function b(){this.stickySelector=".js-sticky",this.stickyNavFixedClass="is-fixed",this.navItemActiveClass="is-active",this.initiatedClass="is-stickyinitiated",this.topPositionMargin=90,this.bottomPositionMargin=22,this.stickyBottomExtraMargin=-6,this.stopPositionSelectorOffcet=0,this.stopPositionSelector="",this.stopElementId="sticky-stop-element-id",this.defaultStopPositionSelector="footer-wrapper",this.startStickyPosition="sticky-start-position",this.stopStickyPosition="sticky-stop-position",this.bottomStickyPosition="sticky-bottom-position",this.pageHeight="page-height",this.$stickys=null,this.$stickyIdSections=null,this.$w=null,this.isMobile=!1;var a=this;a.$w=$(window),a.$stickys=$(a.stickySelector),a.isMobile="function"==typeof window.matchMedia&&window.matchMedia("screen and (max-width: 750px)").matches,a.initiateStickys(),a.stopPositionSelectorOffcet=$(a.stopPositionSelector).offset().top,a.addEvents(),a.onScroll()}return b.prototype.initiateStickys=function(){var b=this;b.$stickys.each(function(c,d){var e=$(d),f="string"==typeof e.data("extrabehavior")?e.data("extrabehavior"):"";f.indexOf("mobile-scrolltoactive")!==-1&&b.isMobile&&b.scrollToActive(e),b.setStickyData(e),a(["Helpers/EventHelper"],$.proxy(function(a,b){var c=this;b.addToEvent("resize",$.proxy(function(a){c.reInitialize()},c,a))},b,e)),e.addClass(b.initiatedClass)})},b.prototype.setStickyData=function(a){var b=this;a.removeClass(b.stickyNavFixedClass),a.css("position",""),a.css("top",""),a.css("bottom",""),a.data(b.startStickyPosition,a.offset().top-b.topPositionMargin),a.data(b.pageHeight,$(document).height());var c=a.data(b.stopElementId),d="undefined"!=typeof c&&""!==c?a.data(b.stopElementId):b.defaultStopPositionSelector;b.stopPositionSelector="#"+d,a.data(b.stopStickyPosition,$(b.stopPositionSelector).offset().top-b.bottomPositionMargin+b.stickyBottomExtraMargin-a.height()-b.topPositionMargin),a.data(b.bottomStickyPosition,$(b.stopPositionSelector).offset().top-b.stickyBottomExtraMargin-b.bottomPositionMargin)},b.prototype.scrollToActive=function(a){var b=this,c=a.find("."+b.navItemActiveClass);1===c.length&&c.get(0).scrollIntoView(!1)},b.prototype.reInitialize=function(){var a=this;a.isMobile="function"==typeof window.matchMedia&&window.matchMedia("screen and (max-width: 750px)").matches,a.stopPositionSelectorOffcet=$(a.stopPositionSelector).offset().top,a.$stickys.each(function(b,c){var d=$(c);a.setStickyData(d),a.manageSticky(0,c)})},b.prototype.addEvents=function(){var a=this;a.$w.on("scroll",$.proxy(a.onScroll,a))},b.prototype.onScroll=function(a){var b=this;b.$stickys.each($.proxy(b.manageSticky,b))},b.prototype.manageSticky=function(a,b){var c=this,d=$(b),e=c.$w.scrollTop(),f="undefined"!=typeof d.data(c.pageHeight)?d.data(c.pageHeight):"",g="undefined"!=typeof d.data(c.stopStickyPosition)?d.data(c.stopStickyPosition):"";if(f!==$(document).height())return void this.reInitialize();var h="string"==typeof d.data("extrabehavior")?d.data("extrabehavior"):"",i="undefined"!=typeof d.data(c.startStickyPosition)?d.data(c.startStickyPosition):"",j="undefined"!=typeof d.data(c.bottomStickyPosition)?d.data(c.bottomStickyPosition):"",k=e>i&&e<g,l=e>g&&e<j,m=e>g;h.indexOf("stop-before-area")!==-1&&c.isMobile?(k&&m===!1&&d.addClass(c.stickyNavFixedClass),(k===!1&&m===!1||k&&m)&&d.removeClass(c.stickyNavFixedClass)):k?(d.addClass(c.stickyNavFixedClass),d.css("position",""),d.css("top",""),d.css("bottom","")):l?(d.removeClass(c.stickyNavFixedClass),d.css("position","absolute"),d.css("top",g-i+c.topPositionMargin+"px"),d.css("bottom",c.stickyBottomExtraMargin+"px")):(d.removeClass(c.stickyNavFixedClass),d.css("position",""),d.css("top",""),d.css("bottom",""))},b}(),d=new c;return d});