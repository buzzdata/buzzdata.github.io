define(["require","exports"],function(a,b){"use strict";var c=function(){function a(a){this.eventListeners={},this.kalturaEvents=["layoutBuildDone","playerReady","mediaLoaded","mediaError","playerStateChange","firstPlay","playerPlayed","playerPaused","preSeek","seek","seeked","playerUpdatePlayhead","openFullScreen","closeFullScreen","volumeChanged","mute","unmute","bufferChange","cuePointReached","playerPlayEnd","onChangeMedia","onChangeMediaDone"];var b=this;b.player=a.player,b.eventShowContainer=a.eventShowContainer,b.setupEventHandler()}return a.prototype.cmEventJob=function(a,b){var c={};window.dataLayer&&(c=void 0===b?{status:!0}:b,"string"==typeof c&&(c={},c.video_id=b),window.dataLayer.push({kaltura:c}),window.dataLayer.push({event:"kaltura_video_event."+a})),window.location.hash.indexOf("kaltura-debug")!==-1&&(this.eventShowContainer.style.display="block",this.eventShowContainer.innerHTML=this.eventShowContainer.innerHTML+'<div style="border-bottom:1px dotted rgba(255,255,255,0.3); padding:2px;"><b>'+a+"</b> "+JSON.stringify(c)+"</div>",this.eventShowContainer.scrollTop=this.eventShowContainer.scrollHeight)},a.prototype.setupEventHandler=function(){var a=this;a.eventListeners.firstPlay=function(b){a.cmEventJob("firstPlay",b)},a.eventListeners.playerPaused=function(b){a.cmEventJob("playerPaused",b)},a.eventListeners.mediaLoaded=function(b){a.cmEventJob("mediaLoaded",b)},a.eventListeners.playerPlayed=function(b){a.cmEventJob("playerPlayed",b)},a.eventListeners.volumeChanged=function(b){a.cmEventJob("volumeChanged",b)},a.eventListeners.openFullScreen=function(b){a.cmEventJob("openFullScreen",b)},a.eventListeners.closeFullScreen=function(b){a.cmEventJob("closeFullScreen",b)},a.eventListeners.unmute=function(b){a.cmEventJob("unmute",b)},a.eventListeners.mute=function(b){a.cmEventJob("mute",b)},a.eventListeners.mediaError=function(b){a.cmEventJob("mediaError",b)},a.eventListeners.seeked=function(b){a.cmEventJob("seeked",b)}},a.prototype.addAllEventListener=function(){var a=this;a.player&&a.kalturaEvents.forEach(function(b){a.eventListeners[b]&&a.player.kBind(b,a.eventListeners[b])})},a}();return c});